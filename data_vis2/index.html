<html>
<head>
  <title>Data Vis 2</title>
  <script src="https://use.typekit.net/pga5ocd.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>
  <style media="screen">
  .svg-icon{
    font-family: FontAwesome;
    font-size: 18px;
  }
  html,body{
    font-family: "brandon-grotesque";
  }
  #board{
    background-color: #FFDFBA;
    text-align: center;
  }
  </style>
  <link rel="stylesheet" href="../css/bootstrap.min.css">
</head>
<body>
  <div id="board" class="col-xs-6 col-xs-offset-3">

  </div>

  <script>

  var width = 500;
  var height = 530;

  var svg = d3.select("#board").append("svg")
    .attr("width", '100%')
    .attr("height", height);

  var g = svg.append("g");



  var img = g.append("svg:image")
      .attr("xlink:href", "target_board.svg")
      .attr("width", width)
      .attr("height", height)
      .attr("x", '50%')
      .attr("y", '50%')
      .attr("transform", 'translate(-'+ width/2 + ',-' + height/2 + ')');


  var g2 = g.append("g");

  var t = 68;
  for(var i = 0; i < t; i += 1){
    var minx = -(250/t)*i + 250; // 250 to 20
    var maxx = ((620-150)/t)*i + 150; // 150 to 620
    var miny = -(150/t)*i + 150; // 150 to 0
    var maxy = ((490-150)/t)*i + 150; // 150 to 490

    var x = Math.floor((Math.random() * maxx) + minx);
    var y = Math.floor((Math.random() * maxy) + miny);
    g2.append("svg:image")
        .attr("xlink:href", "bullet_hole.svg")
        .attr("width", 50)
        .attr("height", 50)
        .attr("x", x)
        .attr("y", y)
        .style("visibility", "hidden")
        .transition()
        .delay(Math.log(i+10)*1000 - 2000)
        .style("visibility", "visible");
    }

  d3.select("#board").append("h2").text("2013");

  </script>
</body>
</html>
